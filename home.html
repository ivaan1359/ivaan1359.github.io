<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Game Storage</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
  }
  .navbar {
    background-color: #333;
    color: white;
    padding: 10px;
    text-align: center;
  }
  .green-text {
    color: green;
  }
  .black-text {
    color: black;
  }
  .container {
    max-width: 800px;
    margin: 20px auto;
    text-align: center;
  }
  .button {
    display: inline-block;
    padding: 10px 20px;
    margin: 10px;
    background-color: #007bff;
    color: white;
    border: none;
    cursor: pointer;
    border-radius: 5px;
  }
  .button:hover {
    background-color: #0056b3;
  }
  .folder {
    cursor: pointer;
    text-decoration: underline;
  }
</style>
</head>
<body>
<div class="navbar">
  <span class="green-text">Game</span> <span class="black-text">Storage</span>
</div>
<div class="container">
  <h1>Welcome to Game Storage</h1>
  <p>Take a screenshot or upload a file:</p>
  <button class="button" onclick="takeScreenshot()">Take Screenshot</button>
  <input type="file" id="fileInput" style="display: none;">
  <label for="fileInput" class="button">Upload File</label>
  <button class="button" onclick="createFolder()">Create Folder</button>
  <ul id="foldersList"></ul>
</div>
<script>
  // Load folders from localStorage on page load
  window.onload = function() {
    loadFolders();
  };

  function takeScreenshot() {
    let timestamp = new Date().toISOString().replace(/[^\w]/g, '');
    let screenshotName = 'screenshot_' + timestamp + '.png';
    let folder = 'Screenshots';
    saveScreenshot(folder, screenshotName);
    addToFolderList(folder);
    alert(`Screenshot "${screenshotName}" saved to folder "${folder}"`);
  }

  function saveScreenshot(folder, screenshotName) {
    let screenshots = JSON.parse(localStorage.getItem(folder)) || [];
    screenshots.push(screenshotName);
    localStorage.setItem(folder, JSON.stringify(screenshots));
  }

  function createFolder() {
    let folderName = prompt('Enter folder name:');
    if (folderName) {
      saveFolder(folderName);
      addToFolderList(folderName);
      alert(`Folder "${folderName}" created`);
    }
  }

  function saveFolder(folderName) {
    let folders = JSON.parse(localStorage.getItem('folders')) || [];
    folders.push(folderName);
    localStorage.setItem('folders', JSON.stringify(folders));
  }

  function loadFolders() {
    let folders = JSON.parse(localStorage.getItem('folders')) || [];
    let foldersList = document.getElementById('foldersList');
    folders.forEach(function(folder) {
      addToFolderList(folder);
    });
  }

  function addToFolderList(folderName) {
    let foldersList = document.getElementById('foldersList');
    let li = document.createElement('li');
    li.textContent = folderName;
    li.addEventListener('click', function() {
      openFolder(folderName);
    });
    li.classList.add('folder');
    foldersList.appendChild(li);
  }

  function openFolder(folderName) {
    let screenshots = JSON.parse(localStorage.getItem(folderName)) || [];
    if (screenshots.length > 0) {
      let screenshotList = screenshots.map(function(screenshot) {
        return `<li><a href="${screenshot}" download>${screenshot}</a></li>`;
      }).join('');
      alert(`Folder "${folderName}" contains screenshots:\n<ul>${screenshotList}</ul>`);
    } else {
      alert(`Folder "${folderName}" is empty`);
    }
  }

  function deleteFolder(folderName) {
    if (confirm(`Are you sure you want to delete folder "${folderName}"?`)) {
      localStorage.removeItem(folderName);
      let folders = JSON.parse(localStorage.getItem('folders')) || [];
      let index = folders.indexOf(folderName);
      if (index !== -1) {
        folders.splice(index, 1);
        localStorage.setItem('folders', JSON.stringify(folders));
      }
      loadFolders();
      alert(`Folder "${folderName}" deleted`);
    }
  }
</script>
</body>
</html>
